<!DOCTYPE html>
<html ng-app="dopeslingerApp">
<head>
    <title>Dope slinger tycoon</title>
    <meta name="viewport" content="initial-scale=1.0">
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="css/bootstrap-theme.min.css">
    <script src="js/jquery.min.js"></script>
    <script src="js/angular.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/seedrandom.min.js"></script>
    <script src="js/angulardope.js"></script>
    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <style>
        body {
            padding-bottom:20px;
        }
        .iconred {
            color: #AA0000;
            font-size: 18px;
            float: left;
            margin-right:-16px;
        }

        .dealer-warning {
            color:#AA0000;
            font-weight:bold;
        }

        .progress {
            margin: 0;
        }

        .icongreen {
            color: #00BB00;
            font-size: 18px;
            float: left;
            margin-right:-16px;
        }

        .iconyellow {
            color: #ffd800;
            font-size: 18px;
            margin-right:-16px;
        }

        span.strong {
            font-weight: bold;
        }

        @viewport {
            zoom: 1.0;
        }

        button.btn.options-button {
            margin-bottom: 10px;
        }

        button.btn {
            width: 100%;
            margin-top: 10px;
        }

        .progress-bar {
            -webkit-transition: none;
            -moz-transition: none;
            -ms-transition: none;
            -o-transition: none;
            transition: none;
        }

        div.dealer-content {
            border:1px solid #ccc;
            border-top:none;
            border-radius:0 0 4px 4px;
            margin:0 0 5px;
            padding:6px 12px;
        }

        div.dealer-content button > span.glyphicon {
            margin-right:-18px;
        }

        div.dealer {
            border:1px solid #ccc;
            border-radius:4px;
            margin:5px 0;
            padding:6px 12px;
            background-image: linear-gradient(to bottom,#fff 0,#e0e0e0 100%);
            text-align:center;
            cursor:pointer;
        }

        div.dealer > span.glyphicon {
            float:right;
            display:none;
            color: #00BB00;
            font-size: 18px;
            margin-left:-18px;
        }

        div.dealer:hover > span.glyphicon {
            display:inline;
        }

        div.dealer.open {
            margin:5px 0 0;
            border-radius:4px 4px 0 0;
            border-bottom:none;
            background-image: linear-gradient(to top,#fff 0,#e0e0e0 100%);
        }

        .weed {
            color: #00A000;
        }

            .weed + .tooltip > .tooltip-inner {
                background-color: #00A000;
            }

            .weed + .tooltip > .tooltip-arrow {
                border-top-color: #00A000;
            }

        label {
            float: left;
            margin-top: 20px;
        }

        .checkbox {
            float: left;
            margin: 20px 0 0 10px !important;
        }
    </style>
</head>
<body ng-controller="DopeController">
    <div class="container">
        <div class="row">
            <div class="col-xs-12 hidden-xs">
                <!-- dopeslinger -->
                <ins class="adsbygoogle"
                     style="display:inline-block;width:728px;height:90px"
                     data-ad-client="ca-pub-5746977543491330"
                     data-ad-slot="1058480603"></ins>
                <script>
                    (adsbygoogle = window.adsbygoogle || []).push({});
                </script>
            </div>
            <div class="col-xs-12 col-sm-9 col-md-10">
                <h1 ng-show="!nsfw">Dope slinger tycoon</h1>
                <p ng-show="!nsfw"><strong>Buy canabis plants to grow weed. Hire dealers to sell the weed.</strong></p>
            </div>

            <div class="col-xs-12 col-sm-3 col-md-2">
                <button onclick="$('#optionsModal').modal('show');" class="btn btn-default options-button"><span class="iconred glyphicon glyphicon-cog"></span> Options</button>
            </div>

            <div class="col-xs-12 col-sm-6">
                <p>Current cash: <span id="cash" class="strong">${{formatMoney(cash)}}</span></p>
                <p>Current <span ng-show="!nsfw">weed</span> stash: <span id="weed" class="strong weed">{{weedForDisplay()}}</span></p>
                <p>Trees: <span id="trees" class="strong"></span> Generating <span id="generating" class="strong weed">0</span> per second</p>
                <p>Tree upgrades: <span id="upgrades" class="strong">0</span> each tree now generates <span id="generate_per_tree" class="strong weed"></span> per second</p>
                <p>Dealers: <span id="dealers" class="strong">0</span> selling up to <span id="converting" class="strong weed"></span> <span ng-show="!nsfw">of weed</span> for a maximum of <span id="revenue" class="strong"></span> per second</p>
            </div>

            <div class="col-xs-12 col-sm-6" id="log">

            </div>

            <div class="clearfix"></div>

            <div class="col-xs-12 col-sm-4">
                <button ng-click="buyTree()" class="btn btn-default" id="buy-tree-btn"><span class="glyphicon icongreen glyphicon-tree-conifer"></span> Buy tree (<span class="tree-price strong">20</span>)</button>
                <div class="progress"><div id="tree-progress" class="progress-bar progress-bar-striped" role="progressbar" aria-valuenow="50"></div></div>
                <button onclick="upgradeTrees()" class="btn btn-default" type="button" id="upgrade-tree-btn"><span class="glyphicon glyphicon-arrow-up icongreen"></span> Upgrade trees (<span class="upgrade-price strong"></span>)</button>
                <div class="progress"><div id="upgrade-progress" class="progress-bar progress-bar-striped"></div></div>
            </div>


            <div class="col-xs-12 col-sm-4">
                <button onclick="showDealerModal()" class="btn btn-default" type="button" id="hire-dealer-button"><span class="glyphicon icongreen glyphicon-user"></span> Hire dealer <span class="dealer-count strong">0/1</span></button>
                <div class="dealer-ui" ng-repeat="dealer in dealers" data-dealer-seed="{{dealer.seed}}">
                    <div class="dealer" ng-click="selectDealer(dealer.seed)">{{dealer.name}}<span class="glyphicon glyphicon-chevron-down"></span></div>
                    <div class="dealer-content" style="display:none">
                        <p>Volume: <span class="volume iconyellow" ng-bind-html="getStars(dealer.volume,5)"></span></p>
                        <p>Price: <span class="price iconyellow" ng-bind-html="getStars(dealer.price,5)"></span></p>
                        <button class="btn btn-default" ng-click="fireDealer(dealer.seed)"><span class="glyphicon iconred glyphicon-user"></span>Fire {{dealer.name.split(' ')[0]}}</button>
                    </div>
                </div>
            </div>

            <div class="col-xs-12 col-sm-4">
                <button id="upgrade-dealer" onclick="upgradeDealers()" class="btn btn-default" type="button"><span class="glyphicon glyphicon-globe icongreen"></span> Expand territory (<span class="price strong"></span>)</button>
                <div class="progress"><div id="upgrade-dealer-progress" class="progress-bar progress-bar-striped"></div></div>
            </div>

        </div>

    </div>

    <div class="modal fade" id="hireDealerModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                    <h4 class="modal-title" id="myModalLabel">Hire dealer</h4>
                </div>
                <div class="modal-body row">
                    <p class="col-xs-12 dealer-warning"></p>
                    <div class="col-xs-12 col-sm-4 dealer1">
                        <p><span class="name strong"></span></p>
                        <p>Volume: <span class="volume iconyellow"></span></p>
                        <p>Price: <span class="price iconyellow"></span></p>
                        <button class="btn btn-default" onclick="hireDealer(this)">Hire dealer</button>
                    </div>
                    <div class="col-xs-12 col-sm-4 dealer2">
                        <p><span class="name strong"></span></p>
                        <p>Volume: <span class="volume iconyellow"></span></p>
                        <p>Price: <span class="price iconyellow"></span></p>
                        <button class="btn btn-default" onclick="hireDealer(this)">Hire dealer</button>
                    </div>
                    <div class="col-xs-12 col-sm-4 dealer3">
                        <p><span class="name strong"></span></p>
                        <p>Volume: <span class="volume iconyellow"></span></p>
                        <p>Price: <span class="price iconyellow"></span></p>
                        <button class="btn btn-default" onclick="hireDealer(this)">Hire dealer</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="optionsModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                    <h4 class="modal-title" id="myModalLabel">Options</h4>
                </div>
                <div class="modal-body row">
                    <div class="col-xs-12 col-sm-6">
                        <button onclick="if (confirm('This will reset all progress, are you sure?')) { resetGame(); }" class="btn btn-default"><span class="glyphicon iconred glyphicon-exclamation-sign"></span> Reset game</button>
                    </div>
                    <div class="col-xs-12 col-sm-6">
                        <button ng-click="toggleNsfw()" class="btn btn-default"><span class="glyphicon glyphicon-filter iconred"></span> Toggle nsfw mode</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

</body>
</html>